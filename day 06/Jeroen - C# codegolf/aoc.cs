var i=ReadAllLines("i");var m=Q(i[0]);var r=Q(i[1]);WriteLine(((from z in P(i[0]).Zip(P(i[1]))let t=z.First let s=z.Second let n=(from x in R(1,t-1,1)let d=(t-x)*x where d>s select x).Count()select n).Aggregate(1,(a,b)=>a*b),R(m,1,-1).First(s=>(m-s)*s>r)-R(1,m-1,1).First(s=>(m-s)*s>r)+1));IEnumerable<int>P(string s)=>s.Split(':',TrimEntries)[1].Split(' ',RemoveEmptyEntries).Select(int.Parse);long Q(string s)=>long.Parse(new(s.Where(IsDigit).ToArray()));IEnumerable<long>R(long s,long k,int t){for (var i=s;i<=s+k;i+=t)yield return i;}